<!DOCTYPE html>
<html>
  <head>
    <title>AmplitudeJS Testing</title>

    <!-- Include Resource Stylesheets -->

    <!-- Include font -->
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,900" rel="stylesheet">
        <!--
            Include Resource Javascript

            NOTE: These are for handling things outside of the scope of AmplitudeJS
        -->
        <script type="text/javascript" src="js/jquery.js"></script>
        <script type="text/javascript" src="js/foundation.min.js"></script>
    <script type="text/javascript" src="js/functions.js"></script>

        <!-- Include Amplitude JS -->
        <script type="text/javascript" src="../../dist/amplitude.js"></script>

        <!-- Include Style Sheet -->
        <link rel="stylesheet" type="text/css" href="css/app.css"/>
  </head>
  <body>
    <div class="grid-x" id = "mainbody">
      <div class="large-6 medium-6 small-12 large-centered medium-centered cell">


          <div class="white-player-top">
            <div class="grid-x">
              <div class="large-3 medium-3 small-3 cell">

              </div>


            </div>
          </div>

          <div id="white-player-center">
            <img amplitude-song-info="cover_art_url" amplitude-main-song-info="true" class="main-album-art" style= "width:80%; height:auto"/>

            <div class="time-progress">
              <div class="grid-x">
                <div class="large-12 medium-12 small-12 cell">
                  <div id="progress-container">
                    <input type="range" class="amplitude-song-slider" amplitude-main-song-slider="true"/>
                          <progress id="song-played-progress" class="amplitude-song-played-progress" amplitude-main-song-played-progress="true"></progress>
                          <progress id="song-buffered-progress" class="amplitude-buffered-progress" value="0"></progress>
                  </div>
                </div>
              </div>

              <div class="grid-x">
                <div class="large-6 medium-6 small-6 cell">
                  <span class="current-time">
                          <span class="amplitude-current-minutes" amplitude-main-current-minutes="true"></span>:<span class="amplitude-current-seconds" amplitude-main-current-seconds="true"></span>
                        </span>
                </div>
                <div class="large-6 medium-6 small-6 cell">
                  <span class="duration">
                          <span class="amplitude-duration-minutes" amplitude-main-duration-minutes="true"></span>:<span class="amplitude-duration-seconds" amplitude-main-duration-seconds="true"></span>
                        </span>
                </div>
              </div>
            </div>

            <div class="song-meta-data">
              <span amplitude-song-info="name" amplitude-main-song-info="true" class="song-name"></span>
              <span amplitude-song-info="artist" amplitude-main-song-info="true" class="song-artist"></span>
            </div>


          </div>

          <div id="white-player-controls">
            <div class="grid-x">
              <div class="large-12 medium-12 small-12 cell">
                <div class="amplitude-shuffle amplitude-shuffle-off" id="shuffle"></div>
                <div class="amplitude-prev" id="previous"></div>
                <div class="amplitude-play-pause" amplitude-main-play-pause="true" id="play-pause" onclick="checkTime(event)"></div>
                <div class="amplitude-next" id="next"></div>
                <div class="amplitude-repeat" id="repeat"></div>
              </div>
            </div>
          </div>

          <div id="white-player-playlist-container">
            <div class="white-player-playlist-top">
              <div class="grid-x">
                <div class="large-3 medium-3 small-3 cell">

                </div>
                <div class="large-6 medium-6 small-6 cell">
                  <span class="queue">Queue</span>
                </div>
                <div class="large-3 medium-3 small-3 cell">
                  <img src="./img/close.svg" class="close-playlist"/>
                </div>
              </div>
            </div>

            <div class="white-player-up-next">
              Up Next
            </div>

            <div class="white-player-playlist">
              <div class="white-player-playlist-song amplitude-song-container amplitude-play-pause" amplitude-song-index="0">
                <img src="../album-art/we-are-to-answer.jpg"/>

                <div class="playlist-song-meta">
                  <span class="playlist-song-name">Risin' High (feat Raashan Ahmad)</span>
                  <span class="playlist-artist-album">Ancient Astronauts &bull; We Are to Answer</span>
                </div>
              </div>
              <div class="white-player-playlist-song amplitude-song-container amplitude-play-pause" amplitude-song-index="1">
                <img src="../album-art/ask-the-dust.jpg"/>

                <div class="playlist-song-meta">
                  <span class="playlist-song-name">The Gun</span>
                  <span class="playlist-artist-album">Lorn &bull; Ask The Dust</span>
                </div>
              </div>
              <div class="white-player-playlist-song amplitude-song-container amplitude-play-pause" amplitude-song-index="2">
                <img src="../album-art/anvil.jpg"/>

                <div class="playlist-song-meta">
                  <span class="playlist-song-name">The Gun</span>
                  <span class="playlist-artist-album">Lorn &bull; Anvil</span>
                </div>
              </div>
              <div class="white-player-playlist-song amplitude-song-container amplitude-play-pause" amplitude-song-index="3">
                <img src="../album-art/we-are-to-answer.jpg"/>

                <div class="playlist-song-meta">
                  <span class="playlist-song-name">I Came Running</span>
                  <span class="playlist-artist-album">Ancient Astronauts &bull; We Are to Answer</span>
                </div>
              </div>
              <div class="white-player-playlist-song amplitude-song-container amplitude-play-pause" amplitude-song-index="4">
                <img src="../album-art/soon-it-will-be-cold-enough.jpg"/>

                <div class="playlist-song-meta">
                  <span class="playlist-song-name">First Snow</span>
                  <span class="playlist-artist-album">Emancipator &bull; Soon It Will Be Cold Enough</span>
                </div>
              </div>
            </div>

            <div class="white-player-playlist-controls">
              <img amplitude-song-info="cover_art_url" amplitude-main-song-info="true" class="playlist-album-art"/>

              <div class="playlist-controls">
                <div class="grid-x">
                  <div class="large-6 medium-6 small-6 cell">
                    <span amplitude-song-info="name" amplitude-main-song-info="true" class="song-name"></span>
                    <span amplitude-song-info="artist" amplitude-main-song-info="true" class="song-artist"></span>
                  </div>
                  <div class="large-6 medium-6 small-6 cell">
                    <div class="playlist-control-wrapper">
                      <div class="amplitude-prev" id="playlist-previous"></div>
                      <div class="amplitude-play-pause" amplitude-main-play-pause="true" id="playlist-play-pause"></div>
                      <div class="amplitude-next" id="playlist-next"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

      </div>

    </div>
<!--- --->
    <div class="modal fade" id="modalConfirm" tabindex="-1" role="dialog"
         aria-labelledby="exampleModalLabel"
             aria-hidden="true">
            <div class="modal-dialog modal-lg modal-dialog-centered"
                 role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <div class="row mb-3">
                            <div class="col-2"></div>
                            <div class="col-8">
                                <h5 class="modal-title text-center pt-3 pb-4"
                                    style="font-size: 66px;"
                                    id="exampleModalLabel">Congratulations!
                                </h5>
                            </div>
                            <div class="col-2">
                                <button type="button" class="close pt-3 pb-4"
                                        style="font-size: 80px;"
                                        data-dismiss="modal"
                                        aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                        </div>
                        <p class="pl-5 pr-5 ml-5 mr-5 pb-5" style="font-size: 50px;">Thank you for
                            listening to
                            Ben's and Jeevan's The Read Podcast. For completing this podcast, you have received 10 Kin tokens!</p>
                        <form class="form-inline justify-content-center">
                          <a class="btn btn-success text-center mb-5"
                             style="width: 400px; font-size: 60px;"
                               href="../../episodes.html">Redeem
                            </a>
                        </form>
                    </div>
                </div>
            </div>
        </div>

    <div class = "popup" id ="modal">
      <div class = "modalTitle" id ="modalTitle">Test </div>
      <div class = "line" id = "line"></div>
      <div class = "kinBack" id = "kinBack">
        Thank you for listening to Ben's and Jeevan's The Read Podacast.
        For completing this podcast, you will receive 50 Kin tokens back!
      </div>

      <button id = "kinTokens" class = "kinTokens"> 50 Kin </button>
    </div>
<!--- --->

  </body>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script type="text/javascript">
      let modal = document.getElementById("modal");
      let main = document.getElementById("mainbody");
      let line = document.getElementById("line");
      let marginTitle = document.getElementById("modalTitle");
      let kinBack = document.getElementById("kinBack");
      let kinTokens = document.getElementById("kinTokens");

      Amplitude.init({
        "songs": [
          {
            "name": "The Read: Journey to Entreprenuership",
            "artist": "Ben and Jeevan",
            "album": "We Are to Answer",
            "url": "./record-10-6-2018_4-19-34.mp3",
            "cover_art_url": "./podcastex.jpg"
          },

        ],

      });


      let playbutton = document.getElementById("playlist-play-pause");

      function checkTime(e) {
        Amplitude.audio().ontimeupdate = function () {songEnded(Amplitude.getSongPlayedSeconds())};
      }

      function songEnded(songPlayed) {
        if (songPlayed === Amplitude.getSongDuration()) {
          console.log("song ended")
          jQuery('#modalConfirm').modal('show');
   //       main.style.opacity  = 0.4;
     //     line.style.display = "block"
      //    marginTitle.style.display= "block"
       //   kinTokens.style.display = "block"
        //  kinBack.style.display = "block"
         // modal.style.display = "block"
        }
      }

  </script>
</html>
